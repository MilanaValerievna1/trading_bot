# README.md

## Программный бот для скальпинга криптовалют

Автоматизированный торговый бот для криптобирж Bybit и OKX с поддержкой торговых стратегий и системой управления рисками.

---

## Описание проекта

**Цель проекта:** Разработка автоматизированного бота для скальпинга криптовалют, выполняющего сделки на основе заданных стратегий с минимальной задержкой.

**Функциональные возможности:**

- Подключение к биржам Bybit и OKX через REST API
- Получение баланса, списка торговых пар и открытых позиций
- Реализация 4 торговых стратегий
- CLI и веб-интерфейс управления
- Система логирования и отчетности
- Управление рисками с автоматическими лимитами
- Шифрование API-ключей

---

## Системные требования

- Python 3.10 или выше
- ОС: Windows 10/11, Linux, macOS
- Оперативная память: минимум 4 GB
- Свободное место на диске: 500 MB
- Стабильное интернет-соединение

---

## Установка

### 1. Клонирование репозитория

```bash
git clone https://github.com/MilanaValerievna1/trading_bot.git
cd trading_bot
```


### 2. Создание виртуального окружения

```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/macOS
source venv/bin/activate
```


### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```


### 4. Настройка конфигурации

```bash
cp src/config.example.json src/config.json
```

Отредактируйте файл `src/config.json`, добавив ваши API-ключи:

```json
{
  "API_KEY_BYBIT": "ваш_api_ключ_bybit",
  "API_SECRET_KEY_BYBIT": "ваш_секретный_ключ_bybit",
  "API_KEY_OKX": "ваш_api_ключ_okx",
  "API_SECRET_KEY_OKX": "ваш_секретный_ключ_okx",
  "API_PASSPHRASE": "ваша_фраза_пароль_okx"
}
```


### 5. Инициализация базы данных

```bash
python main.py --mode init
```


---

## Использование

### CLI-интерфейс

```bash
python main.py --mode cli
```

**Доступные команды:**

- `/balance` - отображение баланса на биржах
- `/pairs` - список доступных торговых пар
- `/positions` - открытые позиции
- `/chart [bybit|okx] [пара]` - построение графика цен
- `/buy [биржа] [пара] [сумма]` - размещение ордера на покупку
- `/sell [биржа] [пара] [сумма]` - размещение ордера на продажу
- `/help` - справка по командам
- `/exit` - выход из системы


### Веб-интерфейс

```bash
python main.py --mode web
```

Откройте браузер по адресу: http://localhost:5000

### Запуск торговых стратегий

```bash
python main.py --mode strategy --strategy [название_стратегии]
```


---

## Торговые стратегии

### 1. Скальпинг на пробое уровней

Анализ ключевых ценовых уровней и размещение ордеров при их пробое.

### 2. Арбитражная торговля

Использование разности цен между биржами Bybit и OKX для получения прибыли.

### 3. EMA-кроссовер

Торговые сигналы на основе пересечения экспоненциальных скользящих средних.

### 4. Динамический скальпинг

Комплексный анализ технических индикаторов, объемов и ускорения цены.

---

## Управление рисками

Система включает следующие механизмы защиты:

- Лимит дневного убытка (по умолчанию 5%)
- Ограничение количества одновременных сделок
- Трейлинг-стоп для автоматической фиксации прибыли
- Защита от проскальзывания цены

---

## Отчетность и аналитика

### Генерация отчетов

```bash
python -c "from src.csv_excel import generate_report; generate_report()"
```

Отчеты сохраняются в папке `reports/` в форматах CSV и Excel.

### Визуализация данных

```bash
python -c "from src.visual import plot_profit; plot_profit()"
```

Графики прибыльности сохраняются в `reports/charts/`.

---

## Структура проекта

```
trading_bot/
├── main.py                     # Главный файл запуска
├── requirements.txt            # Список зависимостей
├── README.md                   # Документация
├── .gitignore                  # Исключения для Git
├── src/                        # Исходный код
│   ├── bybit.py               # API модуль Bybit
│   ├── okx.py                 # API модуль OKX
│   ├── database.py            # Управление базой данных
│   ├── server.py              # Веб-сервер Flask
│   ├── CLI_interface.py       # Терминальный интерфейс
│   ├── logger.py              # Система логирования
│   ├── encryption.py          # Шифрование данных
│   ├── indicators.py          # Технические индикаторы
│   ├── csv_excel.py           # Экспорт отчетов
│   ├── visual.py              # Визуализация данных
│   ├── risk_manager.py        # Управление рисками
│   ├── strategy_manager.py    # Менеджер стратегий
│   └── telegram_notifier.py   # Уведомления Telegram
├── strategies/                 # Торговые стратегии
│   ├── arbitrage_strategy.py
│   ├── ema_crossover_strategy.py
│   ├── breakout_strategy.py
│   ├── dynamic_scalping_strategy.py
│   └── base_strategy.py
├── market_data/               # Рыночные данные
│   └── orderbook_feed.py
├── database/                  # База данных
│   └── trading_bot.db
├── logs/                      # Файлы логов
│   └── bot_activity.log
├── config/                    # Конфигурационные файлы
│   └── secret.key
├── reports/                   # Отчеты и графики
│   ├── trades_report.csv
│   ├── trades_report.xlsx
│   └── charts/
└── templates/                 # HTML шаблоны
    └── index.html
```


---

## Безопасность

- Все API-ключи хранятся в зашифрованном виде
- Конфиденциальные данные исключены из системы контроля версий
- Рекомендуется использование отдельных API-ключей только для торгового бота
- Регулярное обновление ключей доступа

---

## Примеры отчетов

### Отчет по сделкам (trades_report.csv)

```
date,type,exchange,pair,strategy,price,volume,profit,status
2025-06-01 10:15,sell,OKX,SOLUSDT,Dynamic Scalping,124.45,0.0542,0.0001,closed
2025-06-01 10:30,buy,Bybit,BTCUSDT,EMA Cross,67000,0.0015,0.0003,closed
```


---

## Техническая поддержка

### Устранение неполадок

**Проблема:** Ошибка подключения к API

```bash
python main.py --mode init --check-only
```

**Проблема:** Ошибка импорта модулей

```bash
pip install -r requirements.txt --force-reinstall
```


---

## Авторы

- Сухорукова Милана Валерьевна (TeamLead)
- Дорженковская Юлия Константиновна
- Ли Арсений Владимирович

**Учебное заведение:** НИУ ВШЭ, Московский институт электроники и математики, 2025


**Проект полностью реализует требования технического задания: поддержка двух криптобирж, настраиваемые торговые стратегии, система управления рисками, CLI и веб-интерфейсы, комплексная отчетность и обеспечение безопасности.**
